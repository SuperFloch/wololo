// src-electron/electron-preload.js
var { contextBridge, ipcRenderer } = require("electron");
var ipc = {
  render: {
    send: [
      "img:rename",
      "file:write"
    ],
    receive: [],
    sendReceive: [
      "folder:load",
      "folder:create",
      "file:read",
      "img:convert:webp",
      "img:convert:webm",
      "img:convert:ico",
      "img:getFrames",
      "webm:resize",
      "img:upload"
    ]
  }
};
contextBridge.exposeInMainWorld(
  "ipcRenderer",
  {
    send: (channel, args) => {
      const validChannels = ipc.render.send;
      if (validChannels.includes(channel)) {
        ipcRenderer.send(channel, args);
      }
    },
    receive: (channel, listener) => {
      const validChannels = ipc.render.receive;
      if (validChannels.includes(channel)) {
        ipcRenderer.on(channel, (event, ...args) => listener(...args));
      }
    },
    invoke: (channel, args) => {
      const validChannels = ipc.render.sendReceive;
      if (validChannels.includes(channel)) {
        return ipcRenderer.invoke(channel, args);
      }
    }
  }
);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjLWVsZWN0cm9uL2VsZWN0cm9uLXByZWxvYWQuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxyXG4gKiBUaGlzIGZpbGUgaXMgdXNlZCBzcGVjaWZpY2FsbHkgZm9yIHNlY3VyaXR5IHJlYXNvbnMuXHJcbiAqIEhlcmUgeW91IGNhbiBhY2Nlc3MgTm9kZWpzIHN0dWZmIGFuZCBpbmplY3QgZnVuY3Rpb25hbGl0eSBpbnRvXHJcbiAqIHRoZSByZW5kZXJlciB0aHJlYWQgKGFjY2Vzc2libGUgdGhlcmUgdGhyb3VnaCB0aGUgXCJ3aW5kb3dcIiBvYmplY3QpXHJcbiAqXHJcbiAqIFdBUk5JTkchXHJcbiAqIElmIHlvdSBpbXBvcnQgYW55dGhpbmcgZnJvbSBub2RlX21vZHVsZXMsIHRoZW4gbWFrZSBzdXJlIHRoYXQgdGhlIHBhY2thZ2UgaXMgc3BlY2lmaWVkXHJcbiAqIGluIHBhY2thZ2UuanNvbiA+IGRlcGVuZGVuY2llcyBhbmQgTk9UIGluIGRldkRlcGVuZGVuY2llc1xyXG4gKlxyXG4gKiBFeGFtcGxlIChpbmplY3RzIHdpbmRvdy5teUFQSS5kb0FUaGluZygpIGludG8gcmVuZGVyZXIgdGhyZWFkKTpcclxuICpcclxuICogICBpbXBvcnQgeyBjb250ZXh0QnJpZGdlIH0gZnJvbSAnZWxlY3Ryb24nXHJcbiAqXHJcbiAqICAgY29udGV4dEJyaWRnZS5leHBvc2VJbk1haW5Xb3JsZCgnbXlBUEknLCB7XHJcbiAqICAgICBkb0FUaGluZzogKCkgPT4ge31cclxuICogICB9KVxyXG4gKlxyXG4gKiBXQVJOSU5HIVxyXG4gKiBJZiBhY2Nlc3NpbmcgTm9kZSBmdW5jdGlvbmFsaXR5IChsaWtlIGltcG9ydGluZyBAZWxlY3Ryb24vcmVtb3RlKSB0aGVuIGluIHlvdXJcclxuICogZWxlY3Ryb24tbWFpbi5qcyB5b3Ugd2lsbCBuZWVkIHRvIHNldCB0aGUgZm9sbG93aW5nIHdoZW4geW91IGluc3RhbnRpYXRlIEJyb3dzZXJXaW5kb3c6XHJcbiAqXHJcbiAqIG1haW5XaW5kb3cgPSBuZXcgQnJvd3NlcldpbmRvdyh7XHJcbiAqICAgLy8gLi4uXHJcbiAqICAgd2ViUHJlZmVyZW5jZXM6IHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgICAgc2FuZGJveDogZmFsc2UgLy8gPC0tIHRvIGJlIGFibGUgdG8gaW1wb3J0IEBlbGVjdHJvbi9yZW1vdGUgaW4gcHJlbG9hZCBzY3JpcHRcclxuICogICB9XHJcbiAqIH1cclxuICovXHJcbmNvbnN0IHsgY29udGV4dEJyaWRnZSwgaXBjUmVuZGVyZXIgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcclxuXHJcbi8vIFdoaXRlLWxpc3RlZCBjaGFubmVscy5cclxuY29uc3QgaXBjID0ge1xyXG4gICAgcmVuZGVyOiB7XHJcbiAgICAgICAgLy8gRnJvbSByZW5kZXIgdG8gbWFpbi5cclxuICAgICAgICBzZW5kOiBbXHJcbiAgICAgICAgICAgICdpbWc6cmVuYW1lJyxcclxuICAgICAgICAgICAgJ2ZpbGU6d3JpdGUnXHJcbiAgICAgICAgXSxcclxuICAgICAgICAvLyBGcm9tIG1haW4gdG8gcmVuZGVyLlxyXG4gICAgICAgIHJlY2VpdmU6IFtcclxuXHJcbiAgICAgICAgXSxcclxuICAgICAgICAvLyBGcm9tIHJlbmRlciB0byBtYWluIGFuZCBiYWNrIGFnYWluLlxyXG4gICAgICAgIHNlbmRSZWNlaXZlOiBbXHJcbiAgICAgICAgICAgICdmb2xkZXI6bG9hZCcsXHJcbiAgICAgICAgICAgICdmb2xkZXI6Y3JlYXRlJyxcclxuICAgICAgICAgICAgJ2ZpbGU6cmVhZCcsXHJcbiAgICAgICAgICAgICdpbWc6Y29udmVydDp3ZWJwJyxcclxuICAgICAgICAgICAgJ2ltZzpjb252ZXJ0OndlYm0nLFxyXG4gICAgICAgICAgICAnaW1nOmNvbnZlcnQ6aWNvJyxcclxuICAgICAgICAgICAgJ2ltZzpnZXRGcmFtZXMnLFxyXG4gICAgICAgICAgICAnd2VibTpyZXNpemUnLFxyXG4gICAgICAgICAgICAnaW1nOnVwbG9hZCdcclxuICAgICAgICBdXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEV4cG9zZWQgcHJvdGVjdGVkIG1ldGhvZHMgaW4gdGhlIHJlbmRlciBwcm9jZXNzLlxyXG5jb250ZXh0QnJpZGdlLmV4cG9zZUluTWFpbldvcmxkKFxyXG4gICAgLy8gQWxsb3dlZCAnaXBjUmVuZGVyZXInIG1ldGhvZHMuXHJcbiAgICAnaXBjUmVuZGVyZXInLCB7XHJcbiAgICAgICAgLy8gRnJvbSByZW5kZXIgdG8gbWFpbi5cclxuICAgICAgICBzZW5kOiAoY2hhbm5lbCwgYXJncykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZENoYW5uZWxzID0gaXBjLnJlbmRlci5zZW5kXHJcbiAgICAgICAgICAgIGlmICh2YWxpZENoYW5uZWxzLmluY2x1ZGVzKGNoYW5uZWwpKSB7XHJcbiAgICAgICAgICAgICAgICBpcGNSZW5kZXJlci5zZW5kKGNoYW5uZWwsIGFyZ3MpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEZyb20gbWFpbiB0byByZW5kZXIuXHJcbiAgICAgICAgcmVjZWl2ZTogKGNoYW5uZWwsIGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2hhbm5lbHMgPSBpcGMucmVuZGVyLnJlY2VpdmVcclxuICAgICAgICAgICAgaWYgKHZhbGlkQ2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBzdHJpcCBldmVudCBhcyBpdCBpbmNsdWRlcyBgc2VuZGVyYC5cclxuICAgICAgICAgICAgICAgIGlwY1JlbmRlcmVyLm9uKGNoYW5uZWwsIChldmVudCwgLi4uYXJncykgPT4gbGlzdGVuZXIoLi4uYXJncykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEZyb20gcmVuZGVyIHRvIG1haW4gYW5kIGJhY2sgYWdhaW4uXHJcbiAgICAgICAgaW52b2tlOiAoY2hhbm5lbCwgYXJncykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZENoYW5uZWxzID0gaXBjLnJlbmRlci5zZW5kUmVjZWl2ZVxyXG4gICAgICAgICAgICBpZiAodmFsaWRDaGFubmVscy5pbmNsdWRlcyhjaGFubmVsKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlwY1JlbmRlcmVyLmludm9rZShjaGFubmVsLCBhcmdzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4pIl0sCiAgIm1hcHBpbmdzIjogIjtBQTZCQSxJQUFNLEVBQUUsZUFBZSxZQUFZLElBQUksUUFBUTtBQUcvQyxJQUFNLE1BQU07QUFBQSxFQUNSLFFBQVE7QUFBQSxJQUVKLE1BQU07QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFBQSxJQUVBLFNBQVMsQ0FFVDtBQUFBLElBRUEsYUFBYTtBQUFBLE1BQ1Q7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0o7QUFHQSxjQUFjO0FBQUEsRUFFVjtBQUFBLEVBQWU7QUFBQSxJQUVYLE1BQU0sQ0FBQyxTQUFTLFNBQVM7QUFDckIsWUFBTSxnQkFBZ0IsSUFBSSxPQUFPO0FBQ2pDLFVBQUksY0FBYyxTQUFTLE9BQU8sR0FBRztBQUNqQyxvQkFBWSxLQUFLLFNBQVMsSUFBSTtBQUFBLE1BQ2xDO0FBQUEsSUFDSjtBQUFBLElBRUEsU0FBUyxDQUFDLFNBQVMsYUFBYTtBQUM1QixZQUFNLGdCQUFnQixJQUFJLE9BQU87QUFDakMsVUFBSSxjQUFjLFNBQVMsT0FBTyxHQUFHO0FBRWpDLG9CQUFZLEdBQUcsU0FBUyxDQUFDLFVBQVUsU0FBUyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQUEsTUFDakU7QUFBQSxJQUNKO0FBQUEsSUFFQSxRQUFRLENBQUMsU0FBUyxTQUFTO0FBQ3ZCLFlBQU0sZ0JBQWdCLElBQUksT0FBTztBQUNqQyxVQUFJLGNBQWMsU0FBUyxPQUFPLEdBQUc7QUFDakMsZUFBTyxZQUFZLE9BQU8sU0FBUyxJQUFJO0FBQUEsTUFDM0M7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNKOyIsCiAgIm5hbWVzIjogW10KfQo=
